{"ast":null,"code":"var _jsxFileName = \"/home/wilder/hacka3/hackathon3/client/src/components/DesktopUserMenu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AuthFormModal from './AuthFormModal';\nimport SubFormModal from './SubFormModal';\nimport UpdateAvatarModal from './UpdateAvatarModal';\nimport DarkModeMenuItem from './DarkModeMenuItem';\nimport { getCircularAvatar } from '../utils/cloudinaryTransform';\nimport storageService from '../utils/localStorage';\nimport { Button, Menu, MenuItem, Avatar, Typography, ListItemIcon, Divider } from '@material-ui/core';\nimport { useUserMenuStyles } from '../styles/muiStyles';\nimport FilterVintageIcon from '@material-ui/icons/FilterVintage';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst DesktopUserMenu = ({\n  user,\n  handleLogout\n}) => {\n  _s();\n\n  var _loggedUser$avatar;\n\n  const classes = useUserMenuStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClick = () => {\n    handleClose();\n    handleLogout();\n  };\n\n  const loggedUser = storageService.loadUser() || user;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, loggedUser ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleMenu,\n    className: classes.userBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, (loggedUser === null || loggedUser === void 0 ? void 0 : (_loggedUser$avatar = loggedUser.avatar) === null || _loggedUser$avatar === void 0 ? void 0 : _loggedUser$avatar.exists) ? /*#__PURE__*/React.createElement(Avatar, {\n    alt: loggedUser.username,\n    src: getCircularAvatar(loggedUser.avatar.imageLink),\n    variant: \"rounded\",\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(Avatar, {\n    variant: \"rounded\",\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, loggedUser.username[0]), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, loggedUser.username), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.karmaWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FilterVintageIcon, {\n    fontSize: \"inherit\",\n    style: {\n      marginRight: '0.2em'\n    },\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), loggedUser.karma, \" karma\"))), /*#__PURE__*/React.createElement(Menu, {\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    keepMounted: true,\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    component: RouterLink,\n    to: `/u/${loggedUser.username}`,\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccountCircleIcon, {\n    style: {\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), \" My Profile\")), /*#__PURE__*/React.createElement(SubFormModal, {\n    type: \"menu\",\n    handleCloseMenu: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(UpdateAvatarModal, {\n    handleCloseMenu: handleClose,\n    user: loggedUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogoutClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PowerSettingsNewIcon, {\n    style: {\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), \" Logout\")), /*#__PURE__*/React.createElement(Divider, {\n    variant: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DarkModeMenuItem, {\n    closeMenu: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.navItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AuthFormModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DarkModeMenuItem, {\n    closeMenu: handleClose,\n    navItem: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  })));\n};\n\n_s(DesktopUserMenu, \"C6nsnh1dcVSw8F7K2RAAv/bV50Q=\", false, function () {\n  return [useUserMenuStyles];\n});\n\n_c = DesktopUserMenu;\nexport default DesktopUserMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"DesktopUserMenu\");","map":{"version":3,"sources":["/home/wilder/hacka3/hackathon3/client/src/components/DesktopUserMenu.js"],"names":["React","useState","Link","RouterLink","AuthFormModal","SubFormModal","UpdateAvatarModal","DarkModeMenuItem","getCircularAvatar","storageService","Button","Menu","MenuItem","Avatar","Typography","ListItemIcon","Divider","useUserMenuStyles","FilterVintageIcon","AccountCircleIcon","PowerSettingsNewIcon","DesktopUserMenu","user","handleLogout","classes","anchorEl","setAnchorEl","handleMenu","event","currentTarget","handleClose","handleLogoutClick","loggedUser","loadUser","userBtn","avatar","exists","username","imageLink","karmaWrapper","marginRight","karma","vertical","horizontal","Boolean","navItems"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AuthFormModal from './AuthFormModal';\nimport SubFormModal from './SubFormModal';\nimport UpdateAvatarModal from './UpdateAvatarModal';\nimport DarkModeMenuItem from './DarkModeMenuItem';\nimport { getCircularAvatar } from '../utils/cloudinaryTransform';\nimport storageService from '../utils/localStorage';\n\nimport {\n  Button,\n  Menu,\n  MenuItem,\n  Avatar,\n  Typography,\n  ListItemIcon,\n  Divider,\n} from '@material-ui/core';\nimport { useUserMenuStyles } from '../styles/muiStyles';\nimport FilterVintageIcon from '@material-ui/icons/FilterVintage';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst DesktopUserMenu = ({ user, handleLogout }) => {\n  const classes = useUserMenuStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClick = () => {\n    handleClose();\n    handleLogout();\n  };\n\n  const loggedUser = storageService.loadUser() || user;\n\n  return (\n    <div>\n      {loggedUser ? (\n        <>\n          <Button onClick={handleMenu} className={classes.userBtn}>\n            {loggedUser?.avatar?.exists ? (\n              <Avatar\n                alt={loggedUser.username}\n                src={getCircularAvatar(loggedUser.avatar.imageLink)}\n                variant='rounded'\n                className={classes.avatar}\n              />\n            ) : (\n              <Avatar variant='rounded' className={classes.avatar}>\n                {loggedUser.username[0]}\n              </Avatar>\n            )}\n            <div>\n              <Typography color='secondary'>{loggedUser.username}</Typography>\n              <Typography variant='caption' className={classes.karmaWrapper}>\n                <FilterVintageIcon\n                  fontSize='inherit'\n                  style={{ marginRight: '0.2em' }}\n                  color='secondary'\n                />\n                {loggedUser.karma} karma\n              </Typography>\n            </div>\n          </Button>\n          <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <MenuItem\n              component={RouterLink}\n              to={`/u/${loggedUser.username}`}\n              onClick={handleClose}\n            >\n              <ListItemIcon>\n                <AccountCircleIcon style={{ marginRight: 7 }} /> My Profile\n              </ListItemIcon>\n            </MenuItem>\n            <SubFormModal type='menu' handleCloseMenu={handleClose} />\n            <UpdateAvatarModal\n              handleCloseMenu={handleClose}\n              user={loggedUser}\n            />\n            <MenuItem onClick={handleLogoutClick}>\n              <ListItemIcon>\n                <PowerSettingsNewIcon style={{ marginRight: 7 }} /> Logout\n              </ListItemIcon>\n            </MenuItem>\n            <Divider variant='middle' />\n            <DarkModeMenuItem closeMenu={handleClose} />\n          </Menu>\n        </>\n      ) : (\n        <div className={classes.navItems}>\n          <AuthFormModal />\n          <DarkModeMenuItem closeMenu={handleClose} navItem={true} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DesktopUserMenu;\n"]},"metadata":{},"sourceType":"module"}